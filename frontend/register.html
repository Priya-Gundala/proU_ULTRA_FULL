<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProU Management - Register</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: #ffe6f2;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 1300px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 40px 50px;
    }

    .left {
      max-width: 550px;
    }

    .brand-title {
      font-size: 70px;
      font-weight: 800;
      color: #d9006c;
      margin: 0;
      line-height: 1.1;
    }

    .brand-sub {
      font-size: 22px;
      margin-top: 15px;
      color: #7a0040;
    }

    .auth-area {
      width: 100%;
      max-width: 520px;
      padding: 30px;
      border-radius: 18px;
      background: rgba(255,255,255,0.5);
      backdrop-filter: blur(8px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.08);
    }

    h2 { font-size: 28px; margin:0 0 18px 0; color:#222; }

    .label { font-size:13px; color:#6a2d4e; margin-bottom:6px; display:block; font-weight:600; }
    .in { padding:12px; border-radius:10px; border:1px solid #ccc; background:#eef4ff; width:100%; font-size:15px; margin-bottom:12px; }

    .btn {
      width:100%;
      padding:14px;
      font-size:16px;
      font-weight:700;
      border-radius:12px;
      border:none;
      background: linear-gradient(90deg,#ff679d,#ff2d72);
      color:#fff;
      cursor:pointer;
      margin-top:6px;
    }

    .muted { font-size:13px; color:#6a2d4e; margin-top:6px; }
    .msg { margin-top:12px; color:#b00020; }

    @media (max-width:980px) {
      .container { padding:20px; }
      .brand-title{font-size:44px;}
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="left">
      <h1 class="brand-title">ProU<br>Management</h1>
      <p class="brand-sub">Simplify employee & task management</p>
    </div>

    <div class="auth-area">
      <h2>Create account</h2>

      <form id="registerForm" autocomplete="on">

        <label class="label">Name</label>
        <input id="name" class="in" type="text" placeholder="Full name" required />

        <label class="label">Email</label>
        <input id="email" class="in" type="email" placeholder="you@example.com" required />

        <label class="label">Password</label>
        <input id="password" class="in" type="password" placeholder="Create a password" required />

        <button class="btn" type="submit">Create account</button>

        <p class="muted">Already have an account? 
          <a href="index.html" style="color:#ff2d72; font-weight:600;">Sign in</a>
        </p>

      </form>

      <p id="msg" class="msg"></p>
    </div>
  </div>

<script>
const API = "http://localhost:5000";

document.getElementById('registerForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const msg = document.getElementById('msg');
  msg.textContent = 'Registering…';

  const payload = {
    name: document.getElementById('name').value.trim(),
    email: document.getElementById('email').value.trim(),
    password: document.getElementById('password').value
  };

  try {
    const res = await fetch(API + '/auth/register', {
      method: 'POST',
      headers: {'Content-Type':'application/json'},
      body: JSON.stringify(payload)
    });

    if (res.ok) {
      msg.style.color = 'green';
      msg.textContent = 'Registered successfully — redirecting…';
      setTimeout(()=> location.href = 'index.html', 900);
    } else {
      const text = await res.text();
      msg.style.color = '#b00020';
      msg.textContent = text || 'Registration failed';
    }
  } catch (err) {
    msg.style.color = '#b00020';
    msg.textContent = 'Network error';
  }
});
</script>

</body>
</html>
